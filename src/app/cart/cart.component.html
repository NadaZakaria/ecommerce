<section class="w-100 mx-auto rounded shadow p3 mb-3 mt-5 bg-main-light mainSlider" *ngIf="cartItem;else msg">
 <div class="d-flex justify-content-between align-items-center">
    <h1 class="h2 ps-2 pt-3">Shop Cart</h1>
    <button (click)="clear()" class="btn btn-sm btn-outline-danger me-3"> Clear All</button>
 </div>

    <p class="text-main ps-2"> Total Price: {{cartItem.totalCartPrice  | currency: 'EGP'}}</p>

    <div class="row border-bottom p-3" *ngFor="let item of cartItem.products">
        <div class="col-md-2">
            <img class="w-100" [src]="item.product.imageCover" [alt]="item.product.title" >
        </div>
        <div class="col-md-10 d-flex justify-content-between align-items-center">
            <div>
                <h3 class="h6">{{item.product.title}}</h3>
                <p class="text-main small m-0"> Total Price: {{item.price | currency: 'EGP'}}</p>
                <button #btnRemove (click)="removeItem(item.product._id ,btnRemove)" class="btn m-0 p-0"><i class="fas fa-trash-can text-main px-1"></i> Remove</button>
            </div>

            <div> 
                <button #btn1 (click)="changeCount(item.count - 1 ,item.product._id, btn1, btn2)" class="btn btn-sm border-success mx-2"> - </button>
                <span>{{item.count}}</span>
                <button #btn2 (click)="changeCount(item.count + 1,item.product._id ,btn1, btn2)" class="btn btn-sm border-success mx-2"> + </button>
            </div>
        </div>
    </div>
<button [routerLink]="['/payment' , cartItem._id]" class="btn bg-main m-3 text-white"> Online Payment <i class="fa-brands fa-cc-visa ms-2"></i></button>
</section>

<ng-template #msg>
    <h2 class="text-center mt-3"> Your cart is empty ...</h2>
</ng-template>